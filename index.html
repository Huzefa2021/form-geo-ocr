<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>MCGM – Abandoned Vehicles (Marshal Upload)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Styles -->
  <link rel="stylesheet" href="styles.css?v=2025.08.19.P.2.3" />

  <!-- Tesseract v5 (CDN) -->
  <script defer src="https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js"></script>

  <!-- App -->
  <script defer src="app.js?v=2025.08.19.P.2.3"></script>
</head>
<body>
  <!-- Sticky Header -->
  <header id="appHeader" class="app-header">
    <div class="header-top">
      <div class="brand">
        <img src="data/mcgm-logo.png" alt="MCGM" class="brand-logo" />
        <div class="brand-text">
          <div class="brand-title">Municipal Corporation of Greater Mumbai</div>
          <div class="brand-sub">Abandoned Vehicles – Marshal Upload</div>
        </div>
      </div>

      <div class="header-controls">
        <span id="cdnBadge" class="badge badge-info" aria-live="polite">CDN: v5 (Loading…)</span>
        <span id="geoBadge" class="badge badge-info" aria-live="polite">Geo: Loading…</span>
        <button id="btnReset" type="button" class="btn btn-secondary">Reset</button>
      </div>
    </div>

    <!-- Sticky Progress Pills -->
    <nav class="pillbar" aria-label="Processing status">
      <span id="pill-upload"   class="pill">Upload</span>
      <span id="pill-ocr"      class="pill">OCR</span>
      <span id="pill-parse"    class="pill">Parse</span>
      <span id="pill-geo"      class="pill">Geo</span>
      <span id="pill-review"   class="pill">Review</span>
      <span id="pill-redirect" class="pill">Redirect</span>
    </nav>
  </header>

  <!-- Banner -->
  <div id="banner" class="banner" hidden></div>

  <!-- Main Content -->
  <main class="container">
    <section class="card">
      <h2 class="card-title">Upload Photo</h2>
      <div id="dropArea" class="drop-area" role="button" tabindex="0" aria-label="Click or drop a JPG/PNG image">
        <input id="fileInput" type="file" accept="image/jpeg,image/png" hidden />
        <div class="drop-cta">
          <div class="drop-icon">⬆️</div>
          <div class="drop-text">Click to select or drag &amp; drop a JPG/PNG</div>
        </div>
      </div>
    </section>

    <section class="grid-2">
      <div class="card">
        <h2 class="card-title">Original</h2>
        <div class="img-wrap">
          <img id="imgOriginal" alt="Original preview" />
        </div>
      </div>
      <div class="card">
        <h2 class="card-title">HUD Crop</h2>
        <div class="img-wrap">
          <img id="imgCrop" alt="Cropped HUD preview" />
        </div>
      </div>
    </section>

    <section id="resultsCard" class="card">
      <h2 class="card-title">Parsed Results</h2>
      <div class="results">
        <div class="res-row"><label>Date</label><div id="resDate">—</div></div>
        <div class="res-row"><label>Time</label><div id="resTime">—</div></div>
        <div class="res-row"><label>Latitude</label><div id="resLat">—</div></div>
        <div class="res-row"><label>Longitude</label><div id="resLon">—</div></div>
        <div class="res-row"><label>Ward</label><div id="resWard">—</div></div>
        <div class="res-row"><label>Beat</label><div id="resBeat">—</div></div>
        <div class="res-row"><label>Police Station</label><div id="resPS">—</div></div>
        <div class="res-row res-address"><label>Address</label><div id="resAddr">—</div></div>
      </div>
    </section>

    <!-- Developer Console (collapsible if you want later; kept simple now) -->
    <section id="console-box" class="card console">
      <h2 class="card-title">Console</h2>
      <pre id="console-pre">Logs will appear here…</pre>
    </section>
  </main>

  <!-- Sticky Footer (simple, centered) -->
  <footer class="app-footer">
    <div class="footer-inner">
      © MCGM • Built with support from Crescendo
    </div>
  </footer>
</body>
</html>
