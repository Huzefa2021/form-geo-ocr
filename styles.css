:root{
  --blue:#0f4c81; --blue2:#0b3a62; --bg:#f4f7fb; --card:#fff; --line:#e6edf5;
  --ok:#1d9a57; --warn:#f49b17; --err:#d54545; --saffron:#ff9933;
  --shadow:0 8px 18px rgba(12,46,77,.12);
}
*{box-sizing:border-box} html,body{height:100%} body{margin:0;font:14px/1.45 system-ui,Segoe UI,Roboto,Arial,sans-serif;color:#183452;background:var(--bg)}

/* header */
.hdr{position:sticky;top:0;z-index:1000;display:flex;justify-content:space-between;align-items:center;gap:12px;padding:8px 12px;background:var(--blue);color:#fff;border-bottom:4px solid var(--saffron);box-shadow:0 6px 14px rgba(0,0,0,.15)}
.brand{display:flex;align-items:center;gap:10px}
.logo-bmc{height:56px;background:#fff8;padding:4px 6px;border-radius:8px}
.txt .t1{font-weight:700} .txt .t2{font-size:.9rem;opacity:.9}
.tools{display:flex;align-items:center;gap:10px}
.pill{background:#0b3a62;padding:4px 10px;border-radius:999px}
.logo-cres{height:46px;background:#fff8;padding:4px 6px;border-radius:8px}
.btn{border:1px solid #cfe0f3;background:transparent;color:#fff;padding:6px 10px;border-radius:8px;cursor:pointer}
.btn:hover{background:#ffffff1c}

/* rail */
.rail{position:sticky;top:76px;z-index:900;background:#fff;border-bottom:1px solid #f1caa7}
.steps{list-style:none;margin:0;padding:8px 12px;display:flex;gap:8px;flex-wrap:wrap}
.steps li{padding:6px 12px;border:1px solid #d9e6f6;border-radius:999px;background:#f6fbff;font-weight:600}
.steps li.done{background:#ecf9f1;border-color:#cfeedd;color:#0a6}
.steps li.active{background:#fff7e6;border-color:#ffd897;color:#9a5c00}
.bar{height:6px;background:#e7eef7;margin:0 12px 6px;border-radius:6px;overflow:hidden}
.bar span{display:block;height:100%;width:0;background:linear-gradient(90deg,#f7b500,#ffd56a);transition:width .25s}
.rail-under{display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap;padding:0 12px 8px}
.status{background:#edf6ff;border:1px solid #cfe0f3;padding:3px 8px;border-radius:8px}
.status.ok{background:#e9f7ee;border-color:#bfe9ce;color:#0a6}
.status.err{background:#ffe7e7;border-color:#ffcaca;color:#b12e2e}
.times{color:#6e859a}
.cdn{position:absolute;right:12px;top:8px;font-size:.85rem;background:#edf6ff;border:1px solid #cfe0f3;padding:2px 8px;border-radius:999px}

/* crumbs */
.crumbs{padding:10px 12px;color:#607791}

/* layout */
.wrap{max-width:1100px;margin:0 auto;padding:12px}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
@media (max-width:900px){.grid{grid-template-columns:1fr}}

.card{background:var(--card);border:1px solid var(--line);border-radius:12px;box-shadow:var(--shadow);padding:12px}
.card h3{margin:4px 0 12px}
.hidden{display:none}

/* dropzone */
.drop{position:relative;border:2px dashed #cfe0f3;border-radius:12px;background:#f9fbfe;min-height:140px;display:flex;align-items:center;justify-content:center;text-align:center;cursor:pointer}
.drop:hover{border-color:#9ec5ff;background:#f3f9ff}
.drop input{position:absolute;inset:0;opacity:0;cursor:pointer}

/* images */
.img{border:1px solid var(--line);border-radius:10px;background:#fff}
.img.center{display:flex;align-items:center;justify-content:center;min-height:180px}
.img img{max-width:100%;height:auto;display:block}

/* Original image: 25% exactly */
.original25 img{width:25%}
/* Cropped overlay image: 50% exactly */
.overlay img{width:50%}

/* overlay scanner */
.overlay{position:relative}
.scanner{position:absolute;inset:0;border-radius:10px;background:repeating-linear-gradient(180deg,transparent 0 34px,rgba(12,96,200,.10) 34px 38px);display:none;animation:scan 2.2s linear infinite}
@keyframes scan{from{background-position-y:-38px}to{background-position-y:100%}}

/* results */
#res .kv{display:grid;grid-template-columns:140px 1fr;gap:8px;padding:6px 4px;border-bottom:1px dashed #e6edf5}
#res .k{color:#6c7f95;font-weight:600} #res .v{white-space:pre-wrap}
.note{margin-top:6px;color:#6b7f95}

/* redirect */
.redir{margin:12px 0;padding:10px;border-radius:8px;background:#fff7e6;border:1px solid #ffe1b3}
.redir.hidden{display:none}

/* footer (centered + saffron accents) */
.ftr{
  position:sticky;bottom:0;z-index:900;background:var(--blue2);color:#fff;
  border-top:4px solid var(--saffron);padding:8px 12px;display:flex;flex-direction:column;
  gap:4px;text-align:center;
}
.ftr strong{color:var(--saffron);font-weight:700}
.ftr a[href^="mailto:"]{color:var(--saffron);text-decoration:none}
.ftr a[href^="mailto:"]:hover{text-decoration:underline}
.build{opacity:.9;margin-left:6px}
