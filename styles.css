:root{
  --brand:#0b4f7f;
  --brand-ink:#0d2a3a;
  --bg:#f5f7fb;
  --card:#ffffff;
  --saffron:#ff6f00;
  --ok:#2e7d32;
  --proc:#ffb300;
  --err:#c62828;
  --ink:#1f2937;
  --muted:#6b7280;
  --pill:#e9eef6;
  --shadow:0 8px 24px rgba(0,0,0,.08);
  --radius:14px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  color:var(--ink);
  background:var(--bg);
  display:flex;
  flex-direction:column;
}

/* ---------- Top bar ---------- */
.topbar{
  background:linear-gradient(0deg,#0c5e99, #094a79);
  color:#fff;
  padding:12px 18px 8px;
  box-shadow: var(--shadow);
  position:sticky; top:0; z-index:50;
}
.topbar .brand{display:flex;align-items:center;gap:12px}
.topbar .logo{width:44px;height:44px;border-radius:50%;background:#fff}
.topbar .titles .title{font-weight:700; letter-spacing:.2px}
.topbar .titles .subtitle{font-size:.92rem;opacity:.9}

.actions{
  display:flex; align-items:center; gap:8px;
  margin-top:10px;
  flex-wrap:wrap;
}
.pill.action{
  background:#ffffff1a; border:1px solid #ffffff30; color:#fff;
  padding:7px 12px; border-radius:999px; display:inline-flex; gap:8px;
  align-items:center; box-shadow:none; backdrop-filter: blur(2px);
}
.pill.action .icon{font-size:1.05rem}

.ocr-mode{display:inline-flex; align-items:center; gap:6px; opacity:.95}
.ocr-mode select{border-radius:9px; border:1px solid #ffffff55; padding:4px 8px; background:#0e5f99; color:#fff}

.btn.reset{
  background:#fff; color:var(--brand-ink); border:0; border-radius:10px;
  padding:6px 12px; font-weight:600; cursor:pointer;
}
.btn.reset:hover{filter:brightness(.96)}
.cdn-badge{margin-left:6px; opacity:.85; font-size:.88rem}

.saffron-line{
  height:4px; background:var(--saffron); border-top:1px solid #d85b00;
  margin-top:10px; border-bottom:1px solid #ffa255;
}

/* ---------- Status bar ---------- */
.statusbar{
  display:flex; align-items:center; gap:10px;
  padding:10px 18px; background:#fff; box-shadow:var(--shadow);
}
.statusbar .time-badge{
  background:#f1f5ff; color:#264466; border:1px solid #d7e1f5;
  padding:3px 8px; border-radius:999px; font-size:.88rem;
}
.statusbar .dot{opacity:.45}
.statusbar .right{margin-left:auto; font-weight:600; color:#0d2a3a}

/* ---------- Stage pills ---------- */
.stages{
  padding:10px 18px; display:flex; gap:10px; flex-wrap:wrap;
}
.stage-pill{
  --glow:transparent;
  background:var(--pill);
  padding:6px 12px; border-radius:999px; border:1px solid #d7deea;
  display:inline-flex; align-items:center; gap:8px; font-weight:600;
  box-shadow:0 0 0 0 var(--glow);
  transition: box-shadow .2s ease, transform .1s;
}
.stage-pill .icon{font-size:1.05rem}
.stage-pill.ok{
  background:#e8f5e9; color:var(--ok); border-color:#bde0c0;
  --glow:rgba(46,125,50,.35); box-shadow:0 0 0 3px var(--glow);
}
.stage-pill.active{
  background:#fff8e1; color:#6d4c00; border-color:#ffe082;
  --glow:rgba(255,179,0,.35); box-shadow:0 0 0 3px var(--glow);
}
.stage-pill.err{
  background:#ffebee; color:var(--err); border-color:#ffcdd2;
  --glow:rgba(198,40,40,.35); box-shadow:0 0 0 3px var(--glow);
}
.stage-pill.pending{color:#4b5563}

/* ---------- Layout ---------- */
.container{padding:16px 18px; flex:1}
.grid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:16px;
}
.card{
  background:var(--card);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:16px;
}
.card h3{
  margin:0 0 10px 0; font-size:1.05rem; color:#0b3550;
}

/* span-2 for bottom overlay card */
.span-2{grid-column:1 / span 2}

/* ---------- Dropzone ---------- */
.dropzone{
  border:2px dashed #c9d5e8; border-radius:16px;
  min-height:180px; display:flex; align-items:center; justify-content:center;
  background:#f8fbff;
}
.dropzone.dragging{outline:3px solid #93c5fd; background:#f0f7ff}
.dz-instructions{ text-align:center; color:#415a77 }
.big-icon{font-size:28px; margin-bottom:8px}
.dz-title{font-weight:700}
.dz-sub{font-size:.9rem; color:#6b7280}

/* ---------- Previews ---------- */
.preview{
  margin-top:10px; background:#f9fafb; border:1px solid #e5e7eb; border-radius:12px;
  padding:10px; display:flex; justify-content:center; align-items:center;
}
.preview img{max-width:100%; height:auto; border-radius:8px}

/* ---------- Results list ---------- */
.results{margin:0; display:grid; gap:6px}
.results > div{display:grid; grid-template-columns: 160px 1fr; gap:10px; align-items:flex-start}
.results dt{font-weight:700; color:#0b3550}
.results dd{margin:0; color:#17212b}
.address-row dd{white-space:pre-wrap}

/* ---------- Footer ---------- */
.footer-gap{height:10px}
.saffron-footer{margin:0}
.footer{
  background:#0b4f7f; color:#eaf2f8; padding:14px 18px;
  box-shadow: var(--shadow);
}
.footer a{color:#e9f3ff; text-decoration:none}
.footer a:hover{text-decoration:underline}
.footer-inner{display:flex; flex-direction:column; align-items:center; gap:6px; text-align:center}
.footer .saffron-link{color:var(--saffron); font-weight:700}
.footer .build{margin-left:8px; opacity:.9}

/* ---------- Responsive ---------- */
@media (max-width: 960px){
  .grid{grid-template-columns: 1fr}
  .span-2{grid-column:1}
  .actions{gap:6px}
}
